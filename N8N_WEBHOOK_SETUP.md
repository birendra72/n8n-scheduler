# n8n Webhook Setup - Step-by-Step Guide\n\n## ğŸ¯ Goal\nCreate a webhook in n8n that GitHub Actions can trigger to run your daily workflow.\n\n---\n\n## ğŸ“‹ Step-by-Step Instructions\n\n### Step 1: Create New Workflow\n\n1. Open your n8n instance: `https://YOUR-INSTANCE.onrender.com`\n2. Click **\"+ New workflow\"** (top right)\n3. Name the workflow: `Daily_job`\n4. Click **Save** (Ctrl+S)\n\n---\n\n### Step 2: Add Webhook Trigger Node\n\n1. Click the large **\"+\"** button in the canvas\n2. In the search box, type: `webhook`\n3. Click **\"Webhook\"** under \"Trigger nodes\"\n4. The Webhook node appears on your canvas\n\n---\n\n### Step 3: Configure Webhook Node\n\n**In the Webhook node settings panel (right side):**\n\n1. **HTTP Method:**\n   - Select: `POST`\n\n2. **Path:**\n   - Enter: `daily-trigger`\n   - (You can use any path name you prefer)\n\n3. **Authentication:**\n   - Select: `Header Auth`\n\n4. **Credential for Header Auth:**\n   - Click the dropdown\n   - Click **\"Create New\"**\n   \n5. **In the credential popup:**\n   - **Name:** `x-webhook-secret`\n   - **Value:** Create a strong secret (see below)\n   - Click **Save**\n\n**To generate a strong secret:**\n- Option 1: Use a password generator\n- Option 2: Random string like: `gh-webhook-2026-secure-key-abc123xyz`\n- **IMPORTANT:** Save this secret somewhere safe - you'll need it for GitHub!\n\n---\n\n### Step 4: Add Execute Workflow Node\n\n1. Click the small **\"+\"** button on the right side of the Webhook node\n2. Search for: `Execute Workflow`\n3. Click **\"Execute Workflow\"** under \"Actions\"\n\n**Configure Execute Workflow node:**\n\n1. **Source:**\n   - Select: `Database`\n\n2. **Workflow:**\n   - Click the dropdown\n   - Select: **\"Trend to Script (A4F Integrated - Full Pipeline)\"**\n   - (This is your existing video generation workflow)\n\n3. **Click Save** (Ctrl+S)\n\n---\n\n### Step 5: Connect Nodes\n\nThe nodes should already be connected automatically:\n```\nWebhook â†’ Execute Workflow\n```\n\nIf not connected:\n1. Hover over the Webhook node\n2. Drag the connection dot to the Execute Workflow node\n\n---\n\n### Step 6: Activate Workflow\n\n1. Toggle the switch at the top from **Inactive** to **Active**\n2. The switch should turn blue/green\n\n---\n\n### Step 7: Get Webhook URL\n\n1. Click on the **Webhook** node (to select it)\n2. Look for **\"Production URL\"** in the settings panel\n3. You'll see something like:\n   ```\n   https://your-n8n-instance.onrender.com/webhook/daily-trigger\n   ```\n4. **Click the copy icon** next to the URL\n5. **Save this URL** - you'll need it for GitHub Secrets!\n\n---\n\n## âœ… Verification\n\n### Test the Webhook Manually\n\nYou can test with curl (from terminal):\n\n```bash\ncurl -X POST \\\n  -H \"Content-Type: application/json\" \\\n  -H \"x-webhook-secret: YOUR_SECRET_KEY\" \\\n  -d '{\"test\": true}' \\\n  https://your-n8n-instance.onrender.com/webhook/daily-trigger\n```\n\n**Expected result:**\n- HTTP 200 OK\n- You should see an execution in n8n's \"Executions\" tab\n- Both \"Daily_job\" and \"Trend to Script\" should execute\n\n---\n\n## ğŸ“ What You Need to Save\n\nBefore proceeding to GitHub setup, make sure you have:\n\n1. âœ… **Webhook URL:**\n   - Example: `https://your-n8n.onrender.com/webhook/daily-trigger`\n   \n2. âœ… **Webhook Secret:**\n   - The value you entered in Header Auth credential\n   - Example: `gh-webhook-2026-secure-key-abc123xyz`\n\n---\n\n## ğŸ¨ Visual Workflow Structure\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Webhook Trigger    â”‚\nâ”‚  POST /daily-triggerâ”‚\nâ”‚  Auth: Header Auth  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n           â”‚\n           â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Execute Workflow    â”‚\nâ”‚ \"Trend to Script\"   â”‚\nâ”‚ (Full Pipeline)     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n           â”‚\n           â–¼\n    [Video Generated]\n```\n\n---\n\n## ğŸ” Troubleshooting\n\n### \"Cannot find workflow\"\n- Make sure \"Trend to Script (A4F Integrated - Full Pipeline)\" is saved and activated\n- Try refreshing the workflow list in the dropdown\n\n### \"Webhook not responding\"\n- Verify the workflow is **Activated** (toggle at top)\n- Check that Render instance is awake\n- Try accessing the webhook URL in a browser (should see n8n response)\n\n### \"Authentication failed\"\n- Verify the `x-webhook-secret` header name is exact\n- Check that the secret value is saved correctly in the credential\n- Test with curl to verify authentication works\n\n---\n\n## ğŸ¯ Next Steps\n\nOnce you have:\n- âœ… Created the webhook workflow\n- âœ… Copied the webhook URL\n- âœ… Saved the secret key\n\n**Proceed to GitHub Setup:**\n1. Create/use your GitHub repository\n2. Add the workflow file (already created: `.github/workflows/daily-trigger.yml`)\n3. Add GitHub Secrets (N8N_WEBHOOK_URL and WEBHOOK_SECRET)\n4. Test manual trigger\n5. Wait for scheduled run!\n\n---\n\n**Need help?** Check the main [SCHEDULER_README.md](./SCHEDULER_README.md) for complete setup instructions.\n
